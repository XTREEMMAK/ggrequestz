# =================================
# GG Requestz Configuration
# Copy this file to .env and update with your values
# =================================

# =================================
# DOCKER USER/GROUP IDS (for proper file permissions)
# =================================
PUID=1000
PGID=1000
TZ=America/New_York

# =================================
# REQUIRED CONFIGURATION
# =================================

# Domain Configuration (for proxies and routing)
DOMAIN=localhost

# Database Configuration
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=ggrequestz
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changeme123

# Authentication Method (choose: authentik, basic, oidc_generic)
AUTH_METHOD=basic

# Session Secret (generate a random 32+ character string)
SESSION_SECRET=your_random_session_secret_here_32_chars_minimum

# IGDB API Credentials (required for game data)
# Get these from: https://dev.twitch.tv/console
IGDB_CLIENT_ID=your_igdb_client_id
IGDB_CLIENT_SECRET=your_igdb_client_secret

# =================================
# AUTHENTICATION OPTIONS (based on AUTH_METHOD)
# =================================

# Option 1: Authentik (if AUTH_METHOD=authentik)
AUTHENTIK_CLIENT_ID=your_authentik_client_id
AUTHENTIK_CLIENT_SECRET=your_authentik_client_secret
AUTHENTIK_ISSUER=https://auth.yourdomain.com/application/o/ggrequestz

# Option 2: Generic OIDC (if AUTH_METHOD=oidc_generic)
OIDC_CLIENT_ID=your_oidc_client_id
OIDC_CLIENT_SECRET=your_oidc_client_secret
OIDC_ISSUER_URL=https://your-provider.com
OIDC_REDIRECT_URI=https://yourdomain.com/api/auth/oidc/callback

# =================================
# OPTIONAL SERVICES
# =================================

# Typesense Search Engine (optional - falls back to basic search)
TYPESENSE_HOST=typesense
TYPESENSE_PORT=8108
TYPESENSE_PROTOCOL=http
TYPESENSE_API_KEY=xyz123
TYPESENSE_EXTERNAL_PORT=8108

# Redis Cache (optional - falls back to memory cache)
REDIS_URL=redis://redis:6379
REDIS_EXTERNAL_PORT=6380
REDIS_MAX_MEMORY=512mb

# External Services (leave empty if not using)
ROMM_SERVER_URL=
ROMM_USERNAME=
ROMM_PASSWORD=
GOTIFY_URL=
GOTIFY_TOKEN=
N8N_WEBHOOK_URL=

# =================================
# DOCKER CONFIGURATION
# =================================

# Application Port
APP_PORT=3000

# External Port Mapping (change if ports conflict)
POSTGRES_EXTERNAL_PORT=5432

# PM2 Process Manager
PM2_INSTANCES=max

# Auto-migrate database on startup
AUTO_MIGRATE=true

# Production Environment (NODE_ENV set by Docker runtime)

# =================================
# ADVANCED OPTIONS (use with caution)
# =================================

# Database Reset - WARNING: This will delete all data!
# RESET_DATABASE=false

# Gotify Admin Password (if using notifications profile)
# GOTIFY_ADMIN_PASSWORD=admin123
# GOTIFY_EXTERNAL_PORT=8080

# Traefik Proxy Configuration (if using proxy profile)
# ACME_EMAIL=admin@example.com